<!DOCTYPE html>

<html lang="en">
  <head>
    <!-- Meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <!-- Imports -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://knockoutjs.com/downloads/knockout-3.5.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    
    <!-- Custom -->
    <link href="/static/stocks_favicon.png" rel="icon" />
    <link href="/static/styles.css" rel="stylesheet" />
    {% block scripts %} {% endblock%}

    <!-- Title -->
    <title>STOCKS: {% block title %}{% endblock %}</title>
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-light bg-light border">
      <a class="navbar-brand"><span class="blue">STOCKS</span></a>
      <button 
        aria-controls="navbar"
        aria-expanded="false"
        aria-label="Toggle navigation"
        class="navbar-toggler"
        data-target="#navbar"
        data-toggle="collapse"
        type="button"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        {% if session.user_id %}
        <ul class="navbar-nav mr-auto mt-2">
          <li class="nav-item"><a class="nav-link" href="/quote">Get quote</a></li>
          <li class="nav-item"><a class="nav-link" href="/buy">Buy</a></li>
          <li class="nav-item"><a class="nav-link" href="/sell">Sell</a></li>
        </ul>
        <ul class="navbar-nav ml-auto mt-2">
          <li class="nav-item"><a class="nav-link" href="/">My porfolio</a></li>
          <li class="nav-item"><a class="nav-link" href="/history">Transaction history</a></li>
          <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
        </ul>
        {% else %}
        <ul class="navbar-nav ml-auto mt-2">
          <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
          <li class="nav-item"><a class="nav-link" href="/login">Log In</a></li>
        </ul>
        {% endif %}
      </div>
    </nav>

    {% if get_flashed_messages() %}
    <header>
      <div class="alert alert-primary border text-center" role="alert">
        {{ get_flashed_messages() | join(" ") }}
      </div>
    </header>
    {% endif %}

    <main>{% block main %}{% endblock %}</main>

    <footer class="small text-center text-muted">
      Data provided by
      <a class = "link" href="https://iextrading.com/developer">IEX</a>. View
      <a class = "link" href="https://iextrading.com/api-exhibit-a/">IEXâ€™s Terms of Use</a>.
    </footer>
  </body>
</html>
